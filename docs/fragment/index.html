<!doctype html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>fragment</title>
<link href="../images/logo-icon.svg" rel="icon" type="image/svg">    <script>var pathToRoot = "../";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async></script>
<script type="text/javascript" src="../scripts/sourceset_dependencies.js" async></script>
<link href="../styles/style.css" rel="Stylesheet">
<link href="../styles/main.css" rel="Stylesheet">
<link href="../styles/prism.css" rel="Stylesheet">
<link href="../styles/logo-styles.css" rel="Stylesheet">
<link href="../styles/font-jb-sans-auto.css" rel="Stylesheet">
<link href="../ui-kit/ui-kit.min.css" rel="Stylesheet">
<script type="text/javascript" src="../scripts/clipboard.js" async></script>
<script type="text/javascript" src="../scripts/navigation-loader.js" async></script>
<script type="text/javascript" src="../scripts/platform-content-handler.js" async></script>
<script type="text/javascript" src="../scripts/main.js" defer></script>
<script type="text/javascript" src="../scripts/prism.js" async></script>
<script type="text/javascript" src="../ui-kit/ui-kit.min.js" defer></script>
<script type="text/javascript" src="../scripts/symbol-parameters-wrapper_deferred.js" defer></script></head>
<body>
    <div class="root">
    <nav class="navigation theme-dark" id="navigation-wrapper">
<a class="library-name--link" href="../index.html">
                    Boomerang
            </a>        <button class="navigation-controls--btn navigation-controls--btn_toc ui-kit_mobile-only" id="toc-toggle" type="button">Toggle table of contents
        </button>
        <div class="navigation-controls--break ui-kit_mobile-only"></div>
        <div class="library-version" id="library-version">
        </div>
        <div class="navigation-controls">
        <div class="filter-section filter-section_loading" id="filter-section">
                <button class="platform-tag platform-selector jvm-like" data-active="" data-filter=":fragment/release">androidJvm</button>
            <div class="dropdown filter-section--dropdown" data-role="dropdown" id="filter-section-dropdown">
                <button class="button button_dropdown filter-section--dropdown-toggle" role="combobox" data-role="dropdown-toggle" aria-controls="platform-tags-listbox" aria-haspopup="listbox" aria-expanded="false" aria-label="Toggle source sets"></button>
                <ul role="listbox" id="platform-tags-listbox" class="dropdown--list" data-role="dropdown-listbox">
                    <div class="dropdown--header"><span>Platform filter</span>
                        <button class="button" data-role="dropdown-toggle" aria-label="Close platform filter">
                            <i class="ui-kit-icon ui-kit-icon_cross"></i>
                        </button>
                    </div>
                        <li role="option" class="dropdown--option platform-selector-option jvm-like" tabindex="0">
                            <label class="checkbox">
                                <input type="checkbox" class="checkbox--input" id=":fragment/release" data-filter=":fragment/release">
                                <span class="checkbox--icon"></span>
                                androidJvm
                            </label>
                        </li>
                </ul>
                <div class="dropdown--overlay"></div>
            </div>
        </div>
            <button class="navigation-controls--btn navigation-controls--btn_theme" id="theme-toggle-button" type="button">Switch theme
            </button>
            <div class="navigation-controls--btn navigation-controls--btn_search" id="searchBar" role="button">Search in
                API
            </div>
        </div>
    </nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="dropdown theme-dark_mobile" data-role="dropdown" id="toc-dropdown">
                    <ul role="listbox" id="toc-listbox" class="dropdown--list dropdown--list_toc-list" data-role="dropdown-listbox">
                        <div class="dropdown--header">
                            <span>
                                    Boomerang
                            </span>
                            <button class="button" data-role="dropdown-toggle" aria-label="Close table of contents">
                                <i class="ui-kit-icon ui-kit-icon_cross"></i>
                            </button>
                        </div>
                        <div class="sidebar--inner" id="sideMenu"></div>
                    </ul>
                    <div class="dropdown--overlay"></div>
                </div>
            </div>
            <div id="main">
<div class="main-content" id="content" pageids="fragment::////PointingToDeclaration//-510938597">
  <div class="breadcrumbs"></div>
  <div class="cover ">
    <h1 class="cover"><span><span>fragment</span></span></h1>
    <div class="platform-hinted UnderCoverText" data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":fragment/release"><p class="paragraph">A lightweight library for handling navigation results in AndroidX Fragment applications.</p><h2 class="">Overview</h2><p class="paragraph">The Fragment module of Boomerang provides integration with AndroidX Fragments, allowing you to pass data between screens in Fragment navigation without tight coupling between components. It solves the common problem of returning results from one screen to another, similar to the old <code class="lang-kotlin">setFragmentResultListener</code> pattern but designed specifically for modern Fragment navigation patterns.</p><h2 class="">Installation</h2><p class="paragraph">Add the following dependencies to your app's <code class="lang-kotlin">build.gradle.kts</code> file:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// For core functionality (required)<br>implementation("io.github.buszi.boomerang:core:1.3.0")<br><br>// For AndroidX Fragment integration<br>implementation("io.github.buszi.boomerang:fragment:1.3.0")</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Setup</h2><p class="paragraph">To set up Boomerang in a Fragment application, make your Activity implement <code class="lang-kotlin">BoomerangStoreHost</code> and initialize the store:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">class MainActivity : AppCompatActivity(), BoomerangStoreHost {<br><br>    override var boomerangStore: BoomerangStore? = null<br><br>    override fun onCreate(savedInstanceState: Bundle?) {<br>        super.onCreate(savedInstanceState)<br>        createOrRestoreDefaultBoomerangStore(savedInstanceState)<br>        setContentView(R.layout.activity_main)<br>    }<br><br>    override fun onSaveInstanceState(outState: Bundle) {<br>        super.onSaveInstanceState(outState)<br>        saveDefaultBoomerangStoreState(outState)<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">This creates a <code class="lang-kotlin">DefaultBoomerangStore</code> and makes it available to all Fragments hosted by this Activity. The store's state is automatically preserved across configuration changes.</p><h2 class="">Usage</h2><h3 class="">Storing a Result</h3><p class="paragraph">When you want to store a result to be consumed by another screen:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">class DetailFragment : Fragment() {<br><br>    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {<br>        super.onViewCreated(view, savedInstanceState)<br><br>        view.findViewById&lt;Button&gt;(R.id.selectButton).setOnClickListener {<br>            // Find the store and store the result with a key using the builder pattern<br>            findBoomerangStore().storeValue("home_screen_result") {<br>                putString("selectedItem", "Item 1")<br>            }<br><br>            // Navigate back<br>            findNavController().popBackStack()<br>        }<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">Catching a Result</h3><p class="paragraph">To catch and process a result when a Fragment becomes visible:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">class HomeFragment : Fragment() {<br><br>    private var selectedItem: String? = null<br><br>    override fun onCreate(savedInstanceState: Bundle?) {<br>        super.onCreate(savedInstanceState)<br><br>        // Set up a catcher that runs when the fragment starts<br>        catchBoomerangWithLifecycleEvent("home_screen_result") { boomerang -&gt;<br>            // Extract data from the boomerang and process it<br>            selectedItem = boomerang.getString("selectedItem")<br>            // Update UI or perform other actions with the result<br>            true // Return true to indicate the result was successfully processed<br>        }<br>    }<br><br>    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {<br>        super.onViewCreated(view, savedInstanceState)<br><br>        // Display the result<br>        updateUI()<br>    }<br><br>    private fun updateUI() {<br>        // Update UI with the selected item<br>        // For example: textView.text = "Selected item: " + selectedItem<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">By default, <code class="lang-kotlin">catchBoomerangWithLifecycleEvent</code> triggers on the <code class="lang-kotlin">ON_START</code> lifecycle event, but you can specify <code class="lang-kotlin">ON_RESUME</code> if needed.</p><h3 class="">Catching an Event</h3><p class="paragraph">For simple notifications without data, you can use the event handling feature:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">class NotificationFragment : Fragment() {<br><br>    private var eventReceived = false<br><br>    override fun onCreate(savedInstanceState: Bundle?) {<br>        super.onCreate(savedInstanceState)<br><br>        // Set up an event catcher that runs when the fragment starts<br>        catchEventBoomerangWithLifecycleEvent("notification_event") {<br>            // Update state when the event is received<br>            eventReceived = true<br>            updateUI()<br>        }<br>    }<br><br>    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {<br>        super.onViewCreated(view, savedInstanceState)<br><br>        // Display the event status<br>        updateUI()<br><br>        // Button to clear the event status<br>        view.findViewById&lt;Button&gt;(R.id.clearEventButton).setOnClickListener {<br>            eventReceived = false<br>            updateUI()<br>        }<br>    }<br><br>    private fun updateUI() {<br>        // Update UI with the event status<br>        view?.let {<br>            val statusText = "Event status: ${if (eventReceived) "Event received" else "No event received"}"<br>            it.findViewById&lt;TextView&gt;(R.id.eventStatusText).text = statusText<br>        }<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">To store an event:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">class EventTriggerFragment : Fragment() {<br><br>    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {<br>        super.onViewCreated(view, savedInstanceState)<br><br>        view.findViewById&lt;Button&gt;(R.id.triggerEventButton).setOnClickListener {<br>            // Store an event notification<br>            findBoomerangStore().storeEvent("notification_event")<br><br>            // Navigate back<br>            findNavController().popBackStack()<br>        }<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Key Components</h2><h3 class="">findBoomerangStore</h3><p class="paragraph">An extension function for Fragment that finds a BoomerangStore by looking for a BoomerangStoreHost in the Fragment's activity:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// Inside a Fragment<br>val store = findBoomerangStore()<br><br>// Check if a result exists<br>val hasResult = store.getValue("some_key") != null<br><br>// Manually drop a value<br>store.dropValue("some_key")</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">catchBoomerangWithLifecycleEvent</h3><p class="paragraph">An extension function for Fragment that sets up a lifecycle observer to catch a boomerang value when a specific lifecycle event occurs:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// Inside a Fragment's onCreate method<br>catchBoomerangWithLifecycleEvent(<br>    key = "home_screen_result",<br>    lifecycleEvent = Lifecycle.Event.ON_START<br>) { bundle: Bundle -&gt;<br>    // Process the result<br>    true // Return true to indicate the result was successfully processed<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">catchEventBoomerangWithLifecycleEvent</h3><p class="paragraph">An extension function for Fragment that simplifies catching event notifications from the BoomerangStore. This is a specialized version of catchBoomerangWithLifecycleEvent specifically for handling simple event notifications without additional data:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// Inside a Fragment's onCreate method<br>catchEventBoomerangWithLifecycleEvent(<br>    key = "notification_event",<br>    lifecycleEvent = Lifecycle.Event.ON_START<br>) {<br>    // This callback is executed when the event is caught<br>    // Update UI or perform other actions<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">createOrRestoreDefaultBoomerangStore</h3><p class="paragraph">An extension function for BoomerangStoreHost that creates a new DefaultBoomerangStore or restores one from a saved state:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// Example of using createOrRestoreDefaultBoomerangStore in an Activity<br>class MainActivity : AppCompatActivity(), BoomerangStoreHost {<br>    override var boomerangStore: BoomerangStore? = null<br><br>    fun onCreate(savedInstanceState: Bundle?) {<br>        super.onCreate(savedInstanceState)<br>        createOrRestoreDefaultBoomerangStore(savedInstanceState)<br>        // ...<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">saveDefaultBoomerangStoreState</h3><p class="paragraph">An extension function for BoomerangStoreHost that saves the state of a DefaultBoomerangStore to a Bundle:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// Example of using saveDefaultBoomerangStoreState in an Activity<br>class MainActivity : AppCompatActivity(), BoomerangStoreHost {<br>    override var boomerangStore: BoomerangStore? = null<br><br>    fun onSaveInstanceState(outState: Bundle) {<br>        super.onSaveInstanceState(outState)<br>        saveDefaultBoomerangStoreState(outState)<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Advanced Usage</h2><h3 class="">Custom Lifecycle Events</h3><p class="paragraph">You can specify when to catch results by providing a different lifecycle event:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">catchBoomerangWithLifecycleEvent(<br>    key = "home_screen_result",<br>    lifecycleEvent = Lifecycle.Event.ON_RESUME<br>) { boomerang -&gt;<br>    // Process the result<br>    true<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">Manual Catching</h3><p class="paragraph">You can manually catch results without using the lifecycle event:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">class ManualCatchFragment : Fragment() {<br><br>    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {<br>        super.onViewCreated(view, savedInstanceState)<br><br>        view.findViewById&lt;Button&gt;(R.id.checkButton).setOnClickListener {<br>            val store = findBoomerangStore()<br>            store.tryConsumeValue("some_key") { boomerang -&gt;<br>                // Process the result<br>                true<br>            }<br>        }<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Requirements</h2><ul><li><p class="paragraph">Android API level 21+</p></li><li><p class="paragraph">Kotlin 1.5.0+</p></li><li><p class="paragraph">AndroidX Fragment 1.3.0+</p></li></ul><h2 class="">Sample App</h2><p class="paragraph">The repository includes a sample app that demonstrates how to use Boomerang in a real-world scenario. Check the <code class="lang-kotlin">app</code> module for complete examples of Fragment navigation with Boomerang.</p><h2 class="">License</h2><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">Copyright 2025 Buszi<br><br>Licensed under the Apache License, Version 2.0 (the "License");<br>you may not use this file except in compliance with the License.<br>You may obtain a copy of the License at<br><br>    http://www.apache.org/licenses/LICENSE-2.0<br><br>Unless required by applicable law or agreed to in writing, software<br>distributed under the License is distributed on an "AS IS" BASIS,<br>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br>See the License for the specific language governing permissions and<br>limitations under the License.</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
  <h2 class="">Packages</h2>
  <div class="table"><a data-name="-1811188155%2FPackages%2F-510938597" anchor-label="io.buszi.boomerang.fragment" id="-1811188155%2FPackages%2F-510938597" data-filterable-set=":fragment/release"></a>
    <div class="table-row" data-filterable-current=":fragment/release" data-filterable-set=":fragment/release">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="io.buszi.boomerang.fragment/index.html">io.buszi.boomerang.fragment</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1811188155%2FPackages%2F-510938597"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right">
            <div class="platform-tags no-gutters">
              <div class="platform-tag jvm-like">androidJvm</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
  </div>
</div>
    <div class="footer">
        <a href="#content" id="go-to-top-link" class="footer--button footer--button_go-to-top"></a>
        <span>© 2025 Copyright</span>
        <span class="pull-right">
            <span>Generated by </span>
            <a class="footer--link footer--link_external" href="https://github.com/Kotlin/dokka">
                <span>dokka</span>
            </a>
        </span>
    </div>
            </div>
        </div>
    </div>
</body>
</html>
