<!doctype html>
<html class="no-js" lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>serialization-kotlinx</title>
<link href="../images/logo-icon.svg" rel="icon" type="image/svg"><script>var pathToRoot = "../";</script>
    <script>document.documentElement.classList.replace("no-js", "js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
      if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
          document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
      } else {
        const savedDarkMode = JSON.parse(storage)
        if (savedDarkMode === true) {
          document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
      }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async></script>
<script type="text/javascript" src="../scripts/sourceset_dependencies.js" async></script>
<link href="../styles/style.css" rel="Stylesheet">
<link href="../styles/main.css" rel="Stylesheet">
<link href="../styles/prism.css" rel="Stylesheet">
<link href="../styles/logo-styles.css" rel="Stylesheet">
<link href="../ui-kit/ui-kit.min.css" rel="Stylesheet">
<script type="text/javascript" src="../scripts/safe-local-storage_blocking.js"></script>
<script type="text/javascript" src="../scripts/navigation-loader.js" async></script>
<script type="text/javascript" src="../scripts/platform-content-handler.js" async></script>
<script type="text/javascript" src="../scripts/main.js" defer></script>
<script type="text/javascript" src="../scripts/prism.js" async></script>
<script type="text/javascript" src="../ui-kit/ui-kit.min.js" defer></script></head>
<body>
<div class="root">
    <header class="navigation theme-dark" id="navigation-wrapper" role="banner">
<a class="library-name--link" href="../index.html" tabindex="1">
                    Boomerang
            </a>        <button class="navigation-controls--btn navigation-controls--btn_toc ui-kit_mobile-only" id="toc-toggle" type="button">Toggle table of contents
        </button>
        <div class="navigation-controls--break ui-kit_mobile-only"></div>
        <div class="library-version" id="library-version">
        </div>
        <div class="navigation-controls">
        <ul class="filter-section filter-section_loading" id="filter-section" aria-label="Target filter">
                <button class="platform-tag platform-selector common-like" data-active="" aria-pressed="true" data-filter=":serialization-kotlinx/commonMain">common</button>
            <div class="dropdown filter-section--dropdown" data-role="dropdown" id="filter-section-dropdown">
                <button class="button button_dropdown filter-section--dropdown-toggle" role="combobox" data-role="dropdown-toggle" aria-controls="platform-tags-listbox" aria-haspopup="listbox" aria-expanded="false" aria-label="Toggle source sets"></button>
                <ul role="listbox" id="platform-tags-listbox" class="dropdown--list" data-role="dropdown-listbox" aria-label="Target filter">
                    <div class="dropdown--header"><span>Target filter</span>
                        <button class="button" data-role="dropdown-toggle" aria-label="Close target filter">
                            <i class="ui-kit-icon ui-kit-icon_cross"></i>
                        </button>
                    </div>
                        <li role="option" class="dropdown--option platform-selector-option common-like" tabindex="0">
                            <label class="checkbox">
                                <input type="checkbox" class="checkbox--input" id=":serialization-kotlinx/commonMain" data-filter=":serialization-kotlinx/commonMain">
                                <span class="checkbox--icon"></span>
                                common
                            </label>
                        </li>
                </ul>
                <div class="dropdown--overlay"></div>
            </div>
        </ul>
            <button class="navigation-controls--btn navigation-controls--btn_theme" id="theme-toggle-button" type="button">Switch theme
            </button>
            <div class="navigation-controls--btn navigation-controls--btn_search" id="searchBar" role="button">Search in
                API
            </div>
        </div>
    </header>
    <div id="container">
        <nav id="leftColumn" class="sidebar" data-item-type="SECTION" data-item-config="{&quot;defaultSize&quot;: 280, &quot;minSize&quot;: 200, &quot;maxSize&quot;: 400}">
            <a class="toc--skip-link" href="#main">Skip to content</a>
            <div class="dropdown theme-dark_mobile" data-role="dropdown" id="toc-dropdown">
                <ul role="listbox" id="toc-listbox" class="dropdown--list dropdown--list_toc-list" data-role="dropdown-listbox" aria-label="Table of contents">
                    <div class="dropdown--header">
                            <span>
                                    Boomerang
                            </span>
                        <button class="button" data-role="dropdown-toggle" aria-label="Close table of contents">
                            <i class="ui-kit-icon ui-kit-icon_cross"></i>
                        </button>
                    </div>
                    <div class="sidebar--inner" id="sideMenu"></div>
                </ul>
                <div class="dropdown--overlay"></div>
            </div>
        </nav>
        <div id="resizer" class="resizer" data-item-type="BAR"></div>
        <div id="main" data-item-type="SECTION" role="main">
<div class="main-content" id="content" pageids="serialization-kotlinx::////PointingToDeclaration//582499699">
  <div class="breadcrumbs"></div>
  <div class="cover ">
    <h1 class="cover"><span><span>serialization-kotlinx</span></span></h1>
    <div class="platform-hinted UnderCoverText" data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":serialization-kotlinx/commonMain"><p class="paragraph">A lightweight multiplatform library for serializing and deserializing objects with Kotlinx Serialization in Boomerang applications.</p><h2 class="">Overview</h2><p class="paragraph">The Serialization Kotlinx module of Boomerang provides integration with Kotlinx Serialization, allowing you to store and retrieve serializable objects in the Boomerang store. This simplifies the process of passing complex data between screens in your application.</p><p class="paragraph">This module supports Android, iOS, and Desktop platforms, providing a consistent API across all platforms while using platform-specific implementations under the hood.</p><p class="paragraph">Supports primitives, enums, nested objects, and lists. Configure polymorphism/custom serializers via <code class="lang-kotlin">SerializersModule</code>.</p><h2 class="">Installation</h2><p class="paragraph">Add the following dependencies to your app's <code class="lang-kotlin">build.gradle.kts</code> file:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// For core functionality (required)<br>implementation("io.github.buszi.boomerang:core:1.5.0")<br><br>// For Kotlinx Serialization integration<br>implementation("io.github.buszi.boomerang:serialization-kotlinx:1.5.0")<br><br>// Kotlinx Serialization dependency<br>implementation("org.jetbrains.kotlinx:kotlinx-serialization-core:1.5.0")</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><h2 class="">Configuration</h2><p class="paragraph">Boomerang uses <code class="lang-kotlin">BoomerangFormat</code> to bridge Kotlinx Serialization and the Boomerang container.</p><ul><li><p class="paragraph">Local configuration:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">val format = BoomerangFormat {<br>    serializersModule = SerializersModule {<br>        // polymorphic {}, contextual {}, etc.<br>    }<br>}<br><br>val b: Boomerang = format.serialize(<br>    UserPreference(theme = "dark", notificationsEnabled = true, fontSize = 14)<br>)<br>val pref: UserPreference = format.deserialize(b)</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div></li><li><p class="paragraph">Global configuration for module helpers:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">BoomerangConfig.format = BoomerangFormat {<br>    serializersModule = SerializersModule {<br>        // custom serializers<br>    }<br>}</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><p class="paragraph">Setting this affects helpers like <code class="lang-kotlin">BoomerangStore.storeValue(value)</code>, <code class="lang-kotlin">BoomerangStore.getSerializable()</code>, <code class="lang-kotlin">Boomerang.putSerializable(key, value)</code>, and <code class="lang-kotlin">Boomerang.getSerializable(key)</code>.</p></li></ul><p class="paragraph">Behavior notes:</p><ul><li><p class="paragraph">Missing primitive fields deserialize to their default values.</p></li><li><p class="paragraph">Nested objects and lists are preserved as nested Boomerang containers and lists.</p></li></ul><h2 class="">Usage</h2><h3 class="">Defining a Serializable Object</h3><p class="paragraph">First, define a serializable object using Kotlinx Serialization:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Serializable<br>data class UserPreference(<br>    val theme: String,<br>    val notificationsEnabled: Boolean,<br>    val fontSize: Int<br>)</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><h3 class="">Storing a Serializable Object</h3><p class="paragraph">When you want to store a serializable object:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// Get the store<br>val store = findBoomerangStore() // or LocalBoomerangStore.current in Compose<br><br>// Create a serializable object<br>val userPreference = UserPreference(<br>    theme = "dark",<br>    notificationsEnabled = true,<br>    fontSize = 14<br>)<br><br>// Store the object with a specific key<br>store.storeValue("user_preferences", userPreference)<br><br>// Or store the object using its type as the key<br>store.storeValue(userPreference)</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><h3 class="">Retrieving a Serializable Object</h3><p class="paragraph">To retrieve and deserialize an object:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// Get the store<br>val store = findBoomerangStore() // or LocalBoomerangStore.current in Compose<br><br>// Retrieve the object with a specific key<br>val userPreference: UserPreference? = store.getSerializable("user_preferences")<br><br>// Or retrieve the object using its type as the key<br>val userPreference: UserPreference? = store.getSerializable()</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><h3 class="">Adding a Serializable Object to a Boomerang</h3><p class="paragraph">You can also add a serializable object to an existing Boomerang:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// Create a boomerang<br>val boomerang = emptyBoomerang()<br><br>// Add a serializable object to the boomerang<br>boomerang.putSerializable("user_preferences", userPreference)</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><h3 class="">Retrieving a Serializable Object from a Boomerang</h3><p class="paragraph">To retrieve a serializable object from a Boomerang:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// Get the serializable object from the boomerang<br>val userPreference: UserPreference? = boomerang.getSerializable("user_preferences")</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><h3 class="">Creating a Serialization Boomerang Catcher</h3><p class="paragraph">To create a catcher that automatically deserializes objects:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// Create a catcher for a specific type<br>val catcher = kotlinxSerializationBoomerangCatcher&lt;UserPreference&gt; { userPreference -&gt;<br>    // Process the deserialized object<br>    println("Theme: ${userPreference.theme}")<br>    println("Notifications: ${userPreference.notificationsEnabled}")<br>    println("Font Size: ${userPreference.fontSize}")<br>    <br>    true // Return true to indicate the object was successfully processed<br>}<br><br>// Use the catcher<br>store.tryConsumeValue("user_preferences", catcher)</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><h2 class="">Key Components</h2><h3 class="">Extension Functions for BoomerangStore</h3><h4 class="">storeValue</h4><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">inline fun &lt;reified T : @Serializable Any&gt; BoomerangStore.storeValue(key: String, value: T)<br>inline fun &lt;reified T : @Serializable Any&gt; BoomerangStore.storeValue(value: T)</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><p class="paragraph">These extension functions store a serializable object in the BoomerangStore. The first version uses a specified key, while the second version automatically uses the qualified name of the type as the key.</p><h4 class="">getSerializable</h4><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">inline fun &lt;reified T : @Serializable Any&gt; BoomerangStore.getSerializable(key: String): T?<br>inline fun &lt;reified T : @Serializable Any&gt; BoomerangStore.getSerializable(): T?</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><p class="paragraph">These extension functions retrieve and deserialize an object from the BoomerangStore. The first version uses a specified key, while the second version automatically uses the qualified name of the type as the key.</p><h3 class="">Extension Functions for Boomerang</h3><h4 class="">putSerializable</h4><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">inline fun &lt;reified T : @Serializable Any&gt; Boomerang.putSerializable(key: String, value: T)</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><p class="paragraph">This extension function adds a serializable object to a Boomerang with the specified key.</p><h4 class="">getSerializable</h4><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">inline fun &lt;reified T : @Serializable Any&gt; Boomerang.getSerializable(key: String): T?</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><p class="paragraph">This extension function retrieves and deserializes an object from a Boomerang with the specified key.</p><h3 class="">BoomerangFormat</h3><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">open class BoomerangFormat {<br>    inline fun &lt;reified T : Any&gt; serialize(value: T): Boomerang<br>    inline fun &lt;reified T : Any&gt; deserialize(boomerang: Boomerang): T<br>}</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><p class="paragraph">The <code class="lang-kotlin">BoomerangFormat</code> class provides methods for serializing objects to Boomerang instances and deserializing Boomerang instances back to objects.</p><h3 class="">kotlinxSerializationBoomerangCatcher</h3><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">inline fun &lt;reified T : @Serializable Any&gt; kotlinxSerializationBoomerangCatcher(<br>    crossinline catcher: (T) -&gt; Boolean<br>): BoomerangCatcher</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><p class="paragraph">This function creates a <code class="lang-kotlin">BoomerangCatcher</code> that deserializes the caught boomerang into an object of type <code class="lang-kotlin">T</code> using Kotlinx Serialization.</p><h2 class="">Requirements</h2><ul><li><p class="paragraph">Kotlin 1.5.0+</p></li><li><p class="paragraph">Kotlinx Serialization 1.5.0+</p></li></ul><h3 class="">Platform-specific requirements:</h3><ul><li><p class="paragraph"><strong>Android</strong>: API level 21+</p></li><li><p class="paragraph"><strong>iOS</strong>: iOS 14+</p></li><li><p class="paragraph"><strong>Desktop</strong>: JVM 11+</p></li></ul><h2 class="">License</h2><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">Copyright 2025 Buszi<br><br>Licensed under the Apache License, Version 2.0 (the "License");<br>you may not use this file except in compliance with the License.<br>You may obtain a copy of the License at<br><br>    http://www.apache.org/licenses/LICENSE-2.0<br><br>Unless required by applicable law or agreed to in writing, software<br>distributed under the License is distributed on an "AS IS" BASIS,<br>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br>See the License for the specific language governing permissions and<br>limitations under the License.</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div></div></div>
  </div>
  <h2 class="">Packages</h2>
  <div class="table"><a data-name="-1954871544%2FPackages%2F582499699" anchor-label="io.buszi.boomerang.serialization.kotlinx" id="-1954871544%2FPackages%2F582499699" data-filterable-set=":serialization-kotlinx/commonMain"></a>
    <div class="table-row table-row_platform-tagged" data-filterable-current=":serialization-kotlinx/commonMain" data-filterable-set=":serialization-kotlinx/commonMain">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="io.buszi.boomerang.serialization.kotlinx/index.html">io.buszi.boomerang.serialization.kotlinx</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1954871544%2FPackages%2F582499699"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right platform-tags--wrapper">
            <div class="platform-tags no-gutters">
              <div class="platform-tag common-like">common</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
  </div>
</div>
    <div class="footer">
        <div class="footer--container">
            <a href="#content" id="go-to-top-link" class="footer--button footer--button_go-to-top"></a>
            <div class="footer--content">
                <div>
                    <span>Generated by </span>
                    <a class="footer--link footer--link_external" href="https://github.com/Kotlin/dokka">
                        Dokka
                    </a>
                    <div>© 2025 Copyright</div>
                </div>
            </div>
        </div>
    </div>
        </div>
    </div>
</div>
</body>
</html>