<!doctype html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>compose</title>
<link href="../images/logo-icon.svg" rel="icon" type="image/svg">    <script>var pathToRoot = "../";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async></script>
<script type="text/javascript" src="../scripts/sourceset_dependencies.js" async></script>
<link href="../styles/style.css" rel="Stylesheet">
<link href="../styles/main.css" rel="Stylesheet">
<link href="../styles/prism.css" rel="Stylesheet">
<link href="../styles/logo-styles.css" rel="Stylesheet">
<link href="../styles/font-jb-sans-auto.css" rel="Stylesheet">
<link href="../ui-kit/ui-kit.min.css" rel="Stylesheet">
<script type="text/javascript" src="../scripts/clipboard.js" async></script>
<script type="text/javascript" src="../scripts/navigation-loader.js" async></script>
<script type="text/javascript" src="../scripts/platform-content-handler.js" async></script>
<script type="text/javascript" src="../scripts/main.js" defer></script>
<script type="text/javascript" src="../scripts/prism.js" async></script>
<script type="text/javascript" src="../ui-kit/ui-kit.min.js" defer></script>
<script type="text/javascript" src="../scripts/symbol-parameters-wrapper_deferred.js" defer></script></head>
<body>
    <div class="root">
    <nav class="navigation theme-dark" id="navigation-wrapper">
<a class="library-name--link" href="../index.html">
                    Boomerang
            </a>        <button class="navigation-controls--btn navigation-controls--btn_toc ui-kit_mobile-only" id="toc-toggle" type="button">Toggle table of contents
        </button>
        <div class="navigation-controls--break ui-kit_mobile-only"></div>
        <div class="library-version" id="library-version">
        </div>
        <div class="navigation-controls">
        <div class="filter-section filter-section_loading" id="filter-section">
                <button class="platform-tag platform-selector jvm-like" data-active="" data-filter=":compose/androidMain">android</button>
                <button class="platform-tag platform-selector common-like" data-active="" data-filter=":compose/commonMain">common</button>
                <button class="platform-tag platform-selector jvm-like" data-active="" data-filter=":compose/desktopMain">desktop</button>
                <button class="platform-tag platform-selector common-like" data-active="" data-filter=":compose/iosMain">ios</button>
            <div class="dropdown filter-section--dropdown" data-role="dropdown" id="filter-section-dropdown">
                <button class="button button_dropdown filter-section--dropdown-toggle" role="combobox" data-role="dropdown-toggle" aria-controls="platform-tags-listbox" aria-haspopup="listbox" aria-expanded="false" aria-label="Toggle source sets"></button>
                <ul role="listbox" id="platform-tags-listbox" class="dropdown--list" data-role="dropdown-listbox">
                    <div class="dropdown--header"><span>Platform filter</span>
                        <button class="button" data-role="dropdown-toggle" aria-label="Close platform filter">
                            <i class="ui-kit-icon ui-kit-icon_cross"></i>
                        </button>
                    </div>
                        <li role="option" class="dropdown--option platform-selector-option jvm-like" tabindex="0">
                            <label class="checkbox">
                                <input type="checkbox" class="checkbox--input" id=":compose/androidMain" data-filter=":compose/androidMain">
                                <span class="checkbox--icon"></span>
                                android
                            </label>
                        </li>
                        <li role="option" class="dropdown--option platform-selector-option common-like" tabindex="0">
                            <label class="checkbox">
                                <input type="checkbox" class="checkbox--input" id=":compose/commonMain" data-filter=":compose/commonMain">
                                <span class="checkbox--icon"></span>
                                common
                            </label>
                        </li>
                        <li role="option" class="dropdown--option platform-selector-option jvm-like" tabindex="0">
                            <label class="checkbox">
                                <input type="checkbox" class="checkbox--input" id=":compose/desktopMain" data-filter=":compose/desktopMain">
                                <span class="checkbox--icon"></span>
                                desktop
                            </label>
                        </li>
                        <li role="option" class="dropdown--option platform-selector-option common-like" tabindex="0">
                            <label class="checkbox">
                                <input type="checkbox" class="checkbox--input" id=":compose/iosMain" data-filter=":compose/iosMain">
                                <span class="checkbox--icon"></span>
                                ios
                            </label>
                        </li>
                </ul>
                <div class="dropdown--overlay"></div>
            </div>
        </div>
            <button class="navigation-controls--btn navigation-controls--btn_theme" id="theme-toggle-button" type="button">Switch theme
            </button>
            <div class="navigation-controls--btn navigation-controls--btn_search" id="searchBar" role="button">Search in
                API
            </div>
        </div>
    </nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="dropdown theme-dark_mobile" data-role="dropdown" id="toc-dropdown">
                    <ul role="listbox" id="toc-listbox" class="dropdown--list dropdown--list_toc-list" data-role="dropdown-listbox">
                        <div class="dropdown--header">
                            <span>
                                    Boomerang
                            </span>
                            <button class="button" data-role="dropdown-toggle" aria-label="Close table of contents">
                                <i class="ui-kit-icon ui-kit-icon_cross"></i>
                            </button>
                        </div>
                        <div class="sidebar--inner" id="sideMenu"></div>
                    </ul>
                    <div class="dropdown--overlay"></div>
                </div>
            </div>
            <div id="main">
<div class="main-content" id="content" pageids="compose::////PointingToDeclaration//199115342">
  <div class="breadcrumbs"></div>
  <div class="cover ">
    <h1 class="cover"><span><span>compose</span></span></h1>
    <div class="platform-hinted UnderCoverText with-platform-tabs" data-platform-hinted="data-platform-hinted">
      <div class="platform-bookmarks-row" data-toggle-list="data-toggle-list"><button class="platform-bookmark" data-filterable-current=":compose/androidMain" data-filterable-set=":compose/androidMain" data-active="" data-toggle=":compose/androidMain">android</button><button class="platform-bookmark" data-filterable-current=":compose/commonMain" data-filterable-set=":compose/commonMain" data-toggle=":compose/commonMain">common</button><button class="platform-bookmark" data-filterable-current=":compose/desktopMain" data-filterable-set=":compose/desktopMain" data-toggle=":compose/desktopMain">desktop</button><button class="platform-bookmark" data-filterable-current=":compose/iosMain" data-filterable-set=":compose/iosMain" data-toggle=":compose/iosMain">ios</button></div>
<div class="content sourceset-dependent-content" data-active="" data-togglable=":compose/androidMain"><p class="paragraph">A lightweight multiplatform library for handling navigation results in Compose applications.</p><h2 class="">Overview</h2><p class="paragraph">The Compose module of Boomerang provides integration with Compose Multiplatform, allowing you to pass data between screens in Compose navigation without tight coupling between components. It solves the common problem of returning results from one screen to another, similar to the old <code class="lang-kotlin">setFragmentResultListener</code> pattern but designed specifically for modern Compose navigation patterns.</p><p class="paragraph">This module supports Android, iOS, and Desktop platforms, providing a consistent API across all platforms while using platform-specific implementations under the hood.</p><h2 class="">Installation</h2><p class="paragraph">Add the following dependencies to your app's <code class="lang-kotlin">build.gradle.kts</code> file:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// For core functionality (required)<br>implementation("io.github.buszi.boomerang:core:1.3.0")<br><br>// For Jetpack Compose integration<br>implementation("io.github.buszi.boomerang:compose:1.3.0")</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Setup</h2><p class="paragraph">There are two ways to set up Boomerang in a Compose application:</p><h3 class="">1. Pure Compose Setup</h3><p class="paragraph">For applications that use only Jetpack Compose for navigation, wrap your app's content in a <code class="lang-kotlin">CompositionHostedDefaultBoomerangStoreScope</code>:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun YourApplication() {<br>    CompositionHostedDefaultBoomerangStoreScope {<br>        // Your app content here<br>        AppNavigation()<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">This creates a <code class="lang-kotlin">DefaultBoomerangStore</code> and provides it to your composition. The store's state is automatically preserved across configuration changes.</p><h3 class="">2. Mixed Setup (Compose + Fragment)</h3><p class="paragraph">For applications that use both Compose and Fragments, make your Activity implement <code class="lang-kotlin">BoomerangStoreHost</code> and use <code class="lang-kotlin">ActivityHostedBoomerangStoreScope</code>:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">class MainActivity : AppCompatActivity(), BoomerangStoreHost {<br><br>    override var boomerangStore: BoomerangStore? = null<br><br>    override fun onCreate(savedInstanceState: Bundle?) {<br>        super.onCreate(savedInstanceState)<br>        createOrRestoreDefaultBoomerangStore(savedInstanceState)<br>        setContentView(R.layout.activity_main)<br>    }<br><br>    override fun onSaveInstanceState(outState: Bundle) {<br>        super.onSaveInstanceState(outState)<br>        saveDefaultBoomerangStoreState(outState)<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Then in your Compose code:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun YourComposeUI() {<br>    ActivityHostedBoomerangStoreScope {<br>        // Your Compose content here<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">This retrieves the <code class="lang-kotlin">BoomerangStore</code> from the hosting Activity and provides it to your composition.</p><h2 class="">Usage</h2><h3 class="">Storing a Result</h3><p class="paragraph">When you want to store a result to be consumed by another screen:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun DetailScreen(navController: NavController) {<br>    val store = LocalBoomerangStore.current<br><br>    Button(onClick = {<br>        // Store the result with a key using the builder pattern<br>        store.storeValue("home_screen_result") {<br>            putString("selectedItem", "Item 1")<br>        }<br><br>        // Navigate back<br>        navController.popBackStack()<br>    }) {<br>        Text("Select and Return")<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">Catching a Result</h3><p class="paragraph">To catch and process a result when a Compose screen becomes visible:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun HomeScreen() {<br>    var selectedItem by remember { mutableStateOf&lt;String?&gt;(null) }<br><br>    // Set up a catcher that runs when the screen starts<br>    CatchBoomerangLifecycleEffect("home_screen_result") { boomerang -&gt;<br>        // Extract data from the boomerang<br>        selectedItem = boomerang.getString("selectedItem")<br>        true // Return true to indicate the result was successfully processed<br>    }<br><br>    // Display the result<br>    Text("Selected item: $selectedItem")<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">By default, <code class="lang-kotlin">CatchBoomerangLifecycleEffect</code> triggers on the <code class="lang-kotlin">ON_START</code> lifecycle event, but you can specify <code class="lang-kotlin">ON_RESUME</code> if needed.</p><h3 class="">Catching an Event</h3><p class="paragraph">For simple notifications without data, you can use the event handling feature:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun NotificationScreen() {<br>    var eventReceived by remember { mutableStateOf(false) }<br><br>    // Set up an event catcher that runs when the screen starts<br>    CatchEventBoomerangLifecycleEffect("notification_event") {<br>        // Update state when the event is received<br>        eventReceived = true<br>    }<br><br>    // Display the event status<br>    Text("Event status: ${if (eventReceived) "Event received" else "No event received"}")<br><br>    // Button to clear the event status<br>    Button(onClick = { eventReceived = false }) {<br>        Text("Clear Event Status")<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">To store an event:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun EventTriggerScreen(navController: NavController) {<br>    val store = LocalBoomerangStore.current<br><br>    Button(onClick = {<br>        // Store an event notification<br>        store.storeEvent("notification_event")<br><br>        // Navigate back<br>        navController.popBackStack()<br>    }) {<br>        Text("Trigger Event and Return")<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Key Components</h2><h3 class="">LocalBoomerangStore</h3><p class="paragraph">A CompositionLocal that provides access to the current <code class="lang-kotlin">BoomerangStore</code>:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// Inside a @Composable function<br>val store = LocalBoomerangStore.current<br><br>// Check if a result exists<br>val hasResult = store.getValue("some_key") != null<br><br>// Manually drop a value<br>store.dropValue("some_key")</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">CompositionHostedDefaultBoomerangStoreScope</h3><p class="paragraph">A Composable function that creates a <code class="lang-kotlin">DefaultBoomerangStore</code> and provides it to its content. The store is saved and restored across configuration changes using <code class="lang-kotlin">rememberSaveable</code> with a custom saver.</p><h3 class="">ActivityHostedBoomerangStoreScope</h3><p class="paragraph">A Composable function that retrieves a <code class="lang-kotlin">BoomerangStore</code> from an Activity that implements <code class="lang-kotlin">BoomerangStoreHost</code> and provides it to its content. This is used in mixed environments where both Compose and Fragments are used.</p><h3 class="">CatchBoomerangLifecycleEffect</h3><p class="paragraph">A Composable effect that tries to catch a boomerang value from the <code class="lang-kotlin">BoomerangStore</code> when a specific lifecycle event occurs. This is typically used to process data that was stored in the <code class="lang-kotlin">BoomerangStore</code> when the UI becomes visible.</p><h3 class="">CatchEventBoomerangLifecycleEffect</h3><p class="paragraph">A specialized Composable effect for catching event notifications from the <code class="lang-kotlin">BoomerangStore</code>. This is a convenience function that simplifies catching events in Compose UI, specifically designed for handling simple event notifications without additional data.</p><h3 class="">rememberBoomerangStore</h3><p class="paragraph">A Composable function that remembers a BoomerangStore across recompositions and configuration changes. This function is implemented differently on each platform:</p><ul><li><p class="paragraph">On Android, it uses <code class="lang-kotlin">rememberSaveable</code> with a custom saver to preserve the store's state across configuration changes</p></li><li><p class="paragraph">On iOS and Desktop, it uses <code class="lang-kotlin">remember</code> to keep the store instance across recompositions</p></li></ul><p class="paragraph">This ensures proper state saving and restoration on each platform while providing a consistent API.</p><h2 class="">Advanced Usage</h2><h3 class="">Custom Lifecycle Events</h3><p class="paragraph">You can specify when to catch results by providing a different lifecycle event:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">CatchBoomerangLifecycleEffect(<br>    key = "home_screen_result",<br>    lifecycleEvent = Lifecycle.Event.ON_RESUME<br>) { boomerang -&gt;<br>    // Process the result<br>    true<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">Manual Catching</h3><p class="paragraph">You can manually catch results without using the lifecycle effect:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun ManualCatchExample() {<br>    val store = LocalBoomerangStore.current<br><br>    Button(onClick = {<br>        store.tryCatch("some_key") { boomerang -&gt;<br>            // Process the result<br>            true<br>        }<br>    }) {<br>        Text("Check for Result")<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Requirements</h2><ul><li><p class="paragraph">Kotlin 1.5.0+</p></li><li><p class="paragraph">Compose Multiplatform 1.0.0+</p></li></ul><h3 class="">Platform-specific requirements:</h3><ul><li><p class="paragraph"><strong>Android</strong>: API level 21+</p></li><li><p class="paragraph"><strong>iOS</strong>: iOS 14+</p></li><li><p class="paragraph"><strong>Desktop</strong>: JVM 11+</p></li></ul><h2 class="">Sample App</h2><p class="paragraph">The repository includes a sample app that demonstrates how to use Boomerang in a real-world scenario. Check the <code class="lang-kotlin">app</code> module for complete examples of both pure Compose navigation and mixed solutions where both Compose and Fragments are used.</p><h2 class="">License</h2><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">Copyright 2025 Buszi<br><br>Licensed under the Apache License, Version 2.0 (the "License");<br>you may not use this file except in compliance with the License.<br>You may obtain a copy of the License at<br><br>    http://www.apache.org/licenses/LICENSE-2.0<br><br>Unless required by applicable law or agreed to in writing, software<br>distributed under the License is distributed on an "AS IS" BASIS,<br>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br>See the License for the specific language governing permissions and<br>limitations under the License.</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div><div class="content sourceset-dependent-content" data-togglable=":compose/commonMain"><p class="paragraph">A lightweight multiplatform library for handling navigation results in Compose applications.</p><h2 class="">Overview</h2><p class="paragraph">The Compose module of Boomerang provides integration with Compose Multiplatform, allowing you to pass data between screens in Compose navigation without tight coupling between components. It solves the common problem of returning results from one screen to another, similar to the old <code class="lang-kotlin">setFragmentResultListener</code> pattern but designed specifically for modern Compose navigation patterns.</p><p class="paragraph">This module supports Android, iOS, and Desktop platforms, providing a consistent API across all platforms while using platform-specific implementations under the hood.</p><h2 class="">Installation</h2><p class="paragraph">Add the following dependencies to your app's <code class="lang-kotlin">build.gradle.kts</code> file:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// For core functionality (required)<br>implementation("io.github.buszi.boomerang:core:1.3.0")<br><br>// For Jetpack Compose integration<br>implementation("io.github.buszi.boomerang:compose:1.3.0")</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Setup</h2><p class="paragraph">There are two ways to set up Boomerang in a Compose application:</p><h3 class="">1. Pure Compose Setup</h3><p class="paragraph">For applications that use only Jetpack Compose for navigation, wrap your app's content in a <code class="lang-kotlin">CompositionHostedDefaultBoomerangStoreScope</code>:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun YourApplication() {<br>    CompositionHostedDefaultBoomerangStoreScope {<br>        // Your app content here<br>        AppNavigation()<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">This creates a <code class="lang-kotlin">DefaultBoomerangStore</code> and provides it to your composition. The store's state is automatically preserved across configuration changes.</p><h3 class="">2. Mixed Setup (Compose + Fragment)</h3><p class="paragraph">For applications that use both Compose and Fragments, make your Activity implement <code class="lang-kotlin">BoomerangStoreHost</code> and use <code class="lang-kotlin">ActivityHostedBoomerangStoreScope</code>:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">class MainActivity : AppCompatActivity(), BoomerangStoreHost {<br><br>    override var boomerangStore: BoomerangStore? = null<br><br>    override fun onCreate(savedInstanceState: Bundle?) {<br>        super.onCreate(savedInstanceState)<br>        createOrRestoreDefaultBoomerangStore(savedInstanceState)<br>        setContentView(R.layout.activity_main)<br>    }<br><br>    override fun onSaveInstanceState(outState: Bundle) {<br>        super.onSaveInstanceState(outState)<br>        saveDefaultBoomerangStoreState(outState)<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Then in your Compose code:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun YourComposeUI() {<br>    ActivityHostedBoomerangStoreScope {<br>        // Your Compose content here<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">This retrieves the <code class="lang-kotlin">BoomerangStore</code> from the hosting Activity and provides it to your composition.</p><h2 class="">Usage</h2><h3 class="">Storing a Result</h3><p class="paragraph">When you want to store a result to be consumed by another screen:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun DetailScreen(navController: NavController) {<br>    val store = LocalBoomerangStore.current<br><br>    Button(onClick = {<br>        // Store the result with a key using the builder pattern<br>        store.storeValue("home_screen_result") {<br>            putString("selectedItem", "Item 1")<br>        }<br><br>        // Navigate back<br>        navController.popBackStack()<br>    }) {<br>        Text("Select and Return")<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">Catching a Result</h3><p class="paragraph">To catch and process a result when a Compose screen becomes visible:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun HomeScreen() {<br>    var selectedItem by remember { mutableStateOf&lt;String?&gt;(null) }<br><br>    // Set up a catcher that runs when the screen starts<br>    CatchBoomerangLifecycleEffect("home_screen_result") { boomerang -&gt;<br>        // Extract data from the boomerang<br>        selectedItem = boomerang.getString("selectedItem")<br>        true // Return true to indicate the result was successfully processed<br>    }<br><br>    // Display the result<br>    Text("Selected item: $selectedItem")<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">By default, <code class="lang-kotlin">CatchBoomerangLifecycleEffect</code> triggers on the <code class="lang-kotlin">ON_START</code> lifecycle event, but you can specify <code class="lang-kotlin">ON_RESUME</code> if needed.</p><h3 class="">Catching an Event</h3><p class="paragraph">For simple notifications without data, you can use the event handling feature:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun NotificationScreen() {<br>    var eventReceived by remember { mutableStateOf(false) }<br><br>    // Set up an event catcher that runs when the screen starts<br>    CatchEventBoomerangLifecycleEffect("notification_event") {<br>        // Update state when the event is received<br>        eventReceived = true<br>    }<br><br>    // Display the event status<br>    Text("Event status: ${if (eventReceived) "Event received" else "No event received"}")<br><br>    // Button to clear the event status<br>    Button(onClick = { eventReceived = false }) {<br>        Text("Clear Event Status")<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">To store an event:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun EventTriggerScreen(navController: NavController) {<br>    val store = LocalBoomerangStore.current<br><br>    Button(onClick = {<br>        // Store an event notification<br>        store.storeEvent("notification_event")<br><br>        // Navigate back<br>        navController.popBackStack()<br>    }) {<br>        Text("Trigger Event and Return")<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Key Components</h2><h3 class="">LocalBoomerangStore</h3><p class="paragraph">A CompositionLocal that provides access to the current <code class="lang-kotlin">BoomerangStore</code>:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// Inside a @Composable function<br>val store = LocalBoomerangStore.current<br><br>// Check if a result exists<br>val hasResult = store.getValue("some_key") != null<br><br>// Manually drop a value<br>store.dropValue("some_key")</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">CompositionHostedDefaultBoomerangStoreScope</h3><p class="paragraph">A Composable function that creates a <code class="lang-kotlin">DefaultBoomerangStore</code> and provides it to its content. The store is saved and restored across configuration changes using <code class="lang-kotlin">rememberSaveable</code> with a custom saver.</p><h3 class="">ActivityHostedBoomerangStoreScope</h3><p class="paragraph">A Composable function that retrieves a <code class="lang-kotlin">BoomerangStore</code> from an Activity that implements <code class="lang-kotlin">BoomerangStoreHost</code> and provides it to its content. This is used in mixed environments where both Compose and Fragments are used.</p><h3 class="">CatchBoomerangLifecycleEffect</h3><p class="paragraph">A Composable effect that tries to catch a boomerang value from the <code class="lang-kotlin">BoomerangStore</code> when a specific lifecycle event occurs. This is typically used to process data that was stored in the <code class="lang-kotlin">BoomerangStore</code> when the UI becomes visible.</p><h3 class="">CatchEventBoomerangLifecycleEffect</h3><p class="paragraph">A specialized Composable effect for catching event notifications from the <code class="lang-kotlin">BoomerangStore</code>. This is a convenience function that simplifies catching events in Compose UI, specifically designed for handling simple event notifications without additional data.</p><h3 class="">rememberBoomerangStore</h3><p class="paragraph">A Composable function that remembers a BoomerangStore across recompositions and configuration changes. This function is implemented differently on each platform:</p><ul><li><p class="paragraph">On Android, it uses <code class="lang-kotlin">rememberSaveable</code> with a custom saver to preserve the store's state across configuration changes</p></li><li><p class="paragraph">On iOS and Desktop, it uses <code class="lang-kotlin">remember</code> to keep the store instance across recompositions</p></li></ul><p class="paragraph">This ensures proper state saving and restoration on each platform while providing a consistent API.</p><h2 class="">Advanced Usage</h2><h3 class="">Custom Lifecycle Events</h3><p class="paragraph">You can specify when to catch results by providing a different lifecycle event:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">CatchBoomerangLifecycleEffect(<br>    key = "home_screen_result",<br>    lifecycleEvent = Lifecycle.Event.ON_RESUME<br>) { boomerang -&gt;<br>    // Process the result<br>    true<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">Manual Catching</h3><p class="paragraph">You can manually catch results without using the lifecycle effect:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun ManualCatchExample() {<br>    val store = LocalBoomerangStore.current<br><br>    Button(onClick = {<br>        store.tryCatch("some_key") { boomerang -&gt;<br>            // Process the result<br>            true<br>        }<br>    }) {<br>        Text("Check for Result")<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Requirements</h2><ul><li><p class="paragraph">Kotlin 1.5.0+</p></li><li><p class="paragraph">Compose Multiplatform 1.0.0+</p></li></ul><h3 class="">Platform-specific requirements:</h3><ul><li><p class="paragraph"><strong>Android</strong>: API level 21+</p></li><li><p class="paragraph"><strong>iOS</strong>: iOS 14+</p></li><li><p class="paragraph"><strong>Desktop</strong>: JVM 11+</p></li></ul><h2 class="">Sample App</h2><p class="paragraph">The repository includes a sample app that demonstrates how to use Boomerang in a real-world scenario. Check the <code class="lang-kotlin">app</code> module for complete examples of both pure Compose navigation and mixed solutions where both Compose and Fragments are used.</p><h2 class="">License</h2><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">Copyright 2025 Buszi<br><br>Licensed under the Apache License, Version 2.0 (the "License");<br>you may not use this file except in compliance with the License.<br>You may obtain a copy of the License at<br><br>    http://www.apache.org/licenses/LICENSE-2.0<br><br>Unless required by applicable law or agreed to in writing, software<br>distributed under the License is distributed on an "AS IS" BASIS,<br>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br>See the License for the specific language governing permissions and<br>limitations under the License.</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div><div class="content sourceset-dependent-content" data-togglable=":compose/desktopMain"><p class="paragraph">A lightweight multiplatform library for handling navigation results in Compose applications.</p><h2 class="">Overview</h2><p class="paragraph">The Compose module of Boomerang provides integration with Compose Multiplatform, allowing you to pass data between screens in Compose navigation without tight coupling between components. It solves the common problem of returning results from one screen to another, similar to the old <code class="lang-kotlin">setFragmentResultListener</code> pattern but designed specifically for modern Compose navigation patterns.</p><p class="paragraph">This module supports Android, iOS, and Desktop platforms, providing a consistent API across all platforms while using platform-specific implementations under the hood.</p><h2 class="">Installation</h2><p class="paragraph">Add the following dependencies to your app's <code class="lang-kotlin">build.gradle.kts</code> file:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// For core functionality (required)<br>implementation("io.github.buszi.boomerang:core:1.3.0")<br><br>// For Jetpack Compose integration<br>implementation("io.github.buszi.boomerang:compose:1.3.0")</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Setup</h2><p class="paragraph">There are two ways to set up Boomerang in a Compose application:</p><h3 class="">1. Pure Compose Setup</h3><p class="paragraph">For applications that use only Jetpack Compose for navigation, wrap your app's content in a <code class="lang-kotlin">CompositionHostedDefaultBoomerangStoreScope</code>:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun YourApplication() {<br>    CompositionHostedDefaultBoomerangStoreScope {<br>        // Your app content here<br>        AppNavigation()<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">This creates a <code class="lang-kotlin">DefaultBoomerangStore</code> and provides it to your composition. The store's state is automatically preserved across configuration changes.</p><h3 class="">2. Mixed Setup (Compose + Fragment)</h3><p class="paragraph">For applications that use both Compose and Fragments, make your Activity implement <code class="lang-kotlin">BoomerangStoreHost</code> and use <code class="lang-kotlin">ActivityHostedBoomerangStoreScope</code>:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">class MainActivity : AppCompatActivity(), BoomerangStoreHost {<br><br>    override var boomerangStore: BoomerangStore? = null<br><br>    override fun onCreate(savedInstanceState: Bundle?) {<br>        super.onCreate(savedInstanceState)<br>        createOrRestoreDefaultBoomerangStore(savedInstanceState)<br>        setContentView(R.layout.activity_main)<br>    }<br><br>    override fun onSaveInstanceState(outState: Bundle) {<br>        super.onSaveInstanceState(outState)<br>        saveDefaultBoomerangStoreState(outState)<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Then in your Compose code:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun YourComposeUI() {<br>    ActivityHostedBoomerangStoreScope {<br>        // Your Compose content here<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">This retrieves the <code class="lang-kotlin">BoomerangStore</code> from the hosting Activity and provides it to your composition.</p><h2 class="">Usage</h2><h3 class="">Storing a Result</h3><p class="paragraph">When you want to store a result to be consumed by another screen:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun DetailScreen(navController: NavController) {<br>    val store = LocalBoomerangStore.current<br><br>    Button(onClick = {<br>        // Store the result with a key using the builder pattern<br>        store.storeValue("home_screen_result") {<br>            putString("selectedItem", "Item 1")<br>        }<br><br>        // Navigate back<br>        navController.popBackStack()<br>    }) {<br>        Text("Select and Return")<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">Catching a Result</h3><p class="paragraph">To catch and process a result when a Compose screen becomes visible:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun HomeScreen() {<br>    var selectedItem by remember { mutableStateOf&lt;String?&gt;(null) }<br><br>    // Set up a catcher that runs when the screen starts<br>    CatchBoomerangLifecycleEffect("home_screen_result") { boomerang -&gt;<br>        // Extract data from the boomerang<br>        selectedItem = boomerang.getString("selectedItem")<br>        true // Return true to indicate the result was successfully processed<br>    }<br><br>    // Display the result<br>    Text("Selected item: $selectedItem")<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">By default, <code class="lang-kotlin">CatchBoomerangLifecycleEffect</code> triggers on the <code class="lang-kotlin">ON_START</code> lifecycle event, but you can specify <code class="lang-kotlin">ON_RESUME</code> if needed.</p><h3 class="">Catching an Event</h3><p class="paragraph">For simple notifications without data, you can use the event handling feature:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun NotificationScreen() {<br>    var eventReceived by remember { mutableStateOf(false) }<br><br>    // Set up an event catcher that runs when the screen starts<br>    CatchEventBoomerangLifecycleEffect("notification_event") {<br>        // Update state when the event is received<br>        eventReceived = true<br>    }<br><br>    // Display the event status<br>    Text("Event status: ${if (eventReceived) "Event received" else "No event received"}")<br><br>    // Button to clear the event status<br>    Button(onClick = { eventReceived = false }) {<br>        Text("Clear Event Status")<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">To store an event:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun EventTriggerScreen(navController: NavController) {<br>    val store = LocalBoomerangStore.current<br><br>    Button(onClick = {<br>        // Store an event notification<br>        store.storeEvent("notification_event")<br><br>        // Navigate back<br>        navController.popBackStack()<br>    }) {<br>        Text("Trigger Event and Return")<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Key Components</h2><h3 class="">LocalBoomerangStore</h3><p class="paragraph">A CompositionLocal that provides access to the current <code class="lang-kotlin">BoomerangStore</code>:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// Inside a @Composable function<br>val store = LocalBoomerangStore.current<br><br>// Check if a result exists<br>val hasResult = store.getValue("some_key") != null<br><br>// Manually drop a value<br>store.dropValue("some_key")</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">CompositionHostedDefaultBoomerangStoreScope</h3><p class="paragraph">A Composable function that creates a <code class="lang-kotlin">DefaultBoomerangStore</code> and provides it to its content. The store is saved and restored across configuration changes using <code class="lang-kotlin">rememberSaveable</code> with a custom saver.</p><h3 class="">ActivityHostedBoomerangStoreScope</h3><p class="paragraph">A Composable function that retrieves a <code class="lang-kotlin">BoomerangStore</code> from an Activity that implements <code class="lang-kotlin">BoomerangStoreHost</code> and provides it to its content. This is used in mixed environments where both Compose and Fragments are used.</p><h3 class="">CatchBoomerangLifecycleEffect</h3><p class="paragraph">A Composable effect that tries to catch a boomerang value from the <code class="lang-kotlin">BoomerangStore</code> when a specific lifecycle event occurs. This is typically used to process data that was stored in the <code class="lang-kotlin">BoomerangStore</code> when the UI becomes visible.</p><h3 class="">CatchEventBoomerangLifecycleEffect</h3><p class="paragraph">A specialized Composable effect for catching event notifications from the <code class="lang-kotlin">BoomerangStore</code>. This is a convenience function that simplifies catching events in Compose UI, specifically designed for handling simple event notifications without additional data.</p><h3 class="">rememberBoomerangStore</h3><p class="paragraph">A Composable function that remembers a BoomerangStore across recompositions and configuration changes. This function is implemented differently on each platform:</p><ul><li><p class="paragraph">On Android, it uses <code class="lang-kotlin">rememberSaveable</code> with a custom saver to preserve the store's state across configuration changes</p></li><li><p class="paragraph">On iOS and Desktop, it uses <code class="lang-kotlin">remember</code> to keep the store instance across recompositions</p></li></ul><p class="paragraph">This ensures proper state saving and restoration on each platform while providing a consistent API.</p><h2 class="">Advanced Usage</h2><h3 class="">Custom Lifecycle Events</h3><p class="paragraph">You can specify when to catch results by providing a different lifecycle event:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">CatchBoomerangLifecycleEffect(<br>    key = "home_screen_result",<br>    lifecycleEvent = Lifecycle.Event.ON_RESUME<br>) { boomerang -&gt;<br>    // Process the result<br>    true<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">Manual Catching</h3><p class="paragraph">You can manually catch results without using the lifecycle effect:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun ManualCatchExample() {<br>    val store = LocalBoomerangStore.current<br><br>    Button(onClick = {<br>        store.tryCatch("some_key") { boomerang -&gt;<br>            // Process the result<br>            true<br>        }<br>    }) {<br>        Text("Check for Result")<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Requirements</h2><ul><li><p class="paragraph">Kotlin 1.5.0+</p></li><li><p class="paragraph">Compose Multiplatform 1.0.0+</p></li></ul><h3 class="">Platform-specific requirements:</h3><ul><li><p class="paragraph"><strong>Android</strong>: API level 21+</p></li><li><p class="paragraph"><strong>iOS</strong>: iOS 14+</p></li><li><p class="paragraph"><strong>Desktop</strong>: JVM 11+</p></li></ul><h2 class="">Sample App</h2><p class="paragraph">The repository includes a sample app that demonstrates how to use Boomerang in a real-world scenario. Check the <code class="lang-kotlin">app</code> module for complete examples of both pure Compose navigation and mixed solutions where both Compose and Fragments are used.</p><h2 class="">License</h2><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">Copyright 2025 Buszi<br><br>Licensed under the Apache License, Version 2.0 (the "License");<br>you may not use this file except in compliance with the License.<br>You may obtain a copy of the License at<br><br>    http://www.apache.org/licenses/LICENSE-2.0<br><br>Unless required by applicable law or agreed to in writing, software<br>distributed under the License is distributed on an "AS IS" BASIS,<br>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br>See the License for the specific language governing permissions and<br>limitations under the License.</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div><div class="content sourceset-dependent-content" data-togglable=":compose/iosMain"><p class="paragraph">A lightweight multiplatform library for handling navigation results in Compose applications.</p><h2 class="">Overview</h2><p class="paragraph">The Compose module of Boomerang provides integration with Compose Multiplatform, allowing you to pass data between screens in Compose navigation without tight coupling between components. It solves the common problem of returning results from one screen to another, similar to the old <code class="lang-kotlin">setFragmentResultListener</code> pattern but designed specifically for modern Compose navigation patterns.</p><p class="paragraph">This module supports Android, iOS, and Desktop platforms, providing a consistent API across all platforms while using platform-specific implementations under the hood.</p><h2 class="">Installation</h2><p class="paragraph">Add the following dependencies to your app's <code class="lang-kotlin">build.gradle.kts</code> file:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// For core functionality (required)<br>implementation("io.github.buszi.boomerang:core:1.3.0")<br><br>// For Jetpack Compose integration<br>implementation("io.github.buszi.boomerang:compose:1.3.0")</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Setup</h2><p class="paragraph">There are two ways to set up Boomerang in a Compose application:</p><h3 class="">1. Pure Compose Setup</h3><p class="paragraph">For applications that use only Jetpack Compose for navigation, wrap your app's content in a <code class="lang-kotlin">CompositionHostedDefaultBoomerangStoreScope</code>:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun YourApplication() {<br>    CompositionHostedDefaultBoomerangStoreScope {<br>        // Your app content here<br>        AppNavigation()<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">This creates a <code class="lang-kotlin">DefaultBoomerangStore</code> and provides it to your composition. The store's state is automatically preserved across configuration changes.</p><h3 class="">2. Mixed Setup (Compose + Fragment)</h3><p class="paragraph">For applications that use both Compose and Fragments, make your Activity implement <code class="lang-kotlin">BoomerangStoreHost</code> and use <code class="lang-kotlin">ActivityHostedBoomerangStoreScope</code>:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">class MainActivity : AppCompatActivity(), BoomerangStoreHost {<br><br>    override var boomerangStore: BoomerangStore? = null<br><br>    override fun onCreate(savedInstanceState: Bundle?) {<br>        super.onCreate(savedInstanceState)<br>        createOrRestoreDefaultBoomerangStore(savedInstanceState)<br>        setContentView(R.layout.activity_main)<br>    }<br><br>    override fun onSaveInstanceState(outState: Bundle) {<br>        super.onSaveInstanceState(outState)<br>        saveDefaultBoomerangStoreState(outState)<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Then in your Compose code:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun YourComposeUI() {<br>    ActivityHostedBoomerangStoreScope {<br>        // Your Compose content here<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">This retrieves the <code class="lang-kotlin">BoomerangStore</code> from the hosting Activity and provides it to your composition.</p><h2 class="">Usage</h2><h3 class="">Storing a Result</h3><p class="paragraph">When you want to store a result to be consumed by another screen:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun DetailScreen(navController: NavController) {<br>    val store = LocalBoomerangStore.current<br><br>    Button(onClick = {<br>        // Store the result with a key using the builder pattern<br>        store.storeValue("home_screen_result") {<br>            putString("selectedItem", "Item 1")<br>        }<br><br>        // Navigate back<br>        navController.popBackStack()<br>    }) {<br>        Text("Select and Return")<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">Catching a Result</h3><p class="paragraph">To catch and process a result when a Compose screen becomes visible:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun HomeScreen() {<br>    var selectedItem by remember { mutableStateOf&lt;String?&gt;(null) }<br><br>    // Set up a catcher that runs when the screen starts<br>    CatchBoomerangLifecycleEffect("home_screen_result") { boomerang -&gt;<br>        // Extract data from the boomerang<br>        selectedItem = boomerang.getString("selectedItem")<br>        true // Return true to indicate the result was successfully processed<br>    }<br><br>    // Display the result<br>    Text("Selected item: $selectedItem")<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">By default, <code class="lang-kotlin">CatchBoomerangLifecycleEffect</code> triggers on the <code class="lang-kotlin">ON_START</code> lifecycle event, but you can specify <code class="lang-kotlin">ON_RESUME</code> if needed.</p><h3 class="">Catching an Event</h3><p class="paragraph">For simple notifications without data, you can use the event handling feature:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun NotificationScreen() {<br>    var eventReceived by remember { mutableStateOf(false) }<br><br>    // Set up an event catcher that runs when the screen starts<br>    CatchEventBoomerangLifecycleEffect("notification_event") {<br>        // Update state when the event is received<br>        eventReceived = true<br>    }<br><br>    // Display the event status<br>    Text("Event status: ${if (eventReceived) "Event received" else "No event received"}")<br><br>    // Button to clear the event status<br>    Button(onClick = { eventReceived = false }) {<br>        Text("Clear Event Status")<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">To store an event:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun EventTriggerScreen(navController: NavController) {<br>    val store = LocalBoomerangStore.current<br><br>    Button(onClick = {<br>        // Store an event notification<br>        store.storeEvent("notification_event")<br><br>        // Navigate back<br>        navController.popBackStack()<br>    }) {<br>        Text("Trigger Event and Return")<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Key Components</h2><h3 class="">LocalBoomerangStore</h3><p class="paragraph">A CompositionLocal that provides access to the current <code class="lang-kotlin">BoomerangStore</code>:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// Inside a @Composable function<br>val store = LocalBoomerangStore.current<br><br>// Check if a result exists<br>val hasResult = store.getValue("some_key") != null<br><br>// Manually drop a value<br>store.dropValue("some_key")</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">CompositionHostedDefaultBoomerangStoreScope</h3><p class="paragraph">A Composable function that creates a <code class="lang-kotlin">DefaultBoomerangStore</code> and provides it to its content. The store is saved and restored across configuration changes using <code class="lang-kotlin">rememberSaveable</code> with a custom saver.</p><h3 class="">ActivityHostedBoomerangStoreScope</h3><p class="paragraph">A Composable function that retrieves a <code class="lang-kotlin">BoomerangStore</code> from an Activity that implements <code class="lang-kotlin">BoomerangStoreHost</code> and provides it to its content. This is used in mixed environments where both Compose and Fragments are used.</p><h3 class="">CatchBoomerangLifecycleEffect</h3><p class="paragraph">A Composable effect that tries to catch a boomerang value from the <code class="lang-kotlin">BoomerangStore</code> when a specific lifecycle event occurs. This is typically used to process data that was stored in the <code class="lang-kotlin">BoomerangStore</code> when the UI becomes visible.</p><h3 class="">CatchEventBoomerangLifecycleEffect</h3><p class="paragraph">A specialized Composable effect for catching event notifications from the <code class="lang-kotlin">BoomerangStore</code>. This is a convenience function that simplifies catching events in Compose UI, specifically designed for handling simple event notifications without additional data.</p><h3 class="">rememberBoomerangStore</h3><p class="paragraph">A Composable function that remembers a BoomerangStore across recompositions and configuration changes. This function is implemented differently on each platform:</p><ul><li><p class="paragraph">On Android, it uses <code class="lang-kotlin">rememberSaveable</code> with a custom saver to preserve the store's state across configuration changes</p></li><li><p class="paragraph">On iOS and Desktop, it uses <code class="lang-kotlin">remember</code> to keep the store instance across recompositions</p></li></ul><p class="paragraph">This ensures proper state saving and restoration on each platform while providing a consistent API.</p><h2 class="">Advanced Usage</h2><h3 class="">Custom Lifecycle Events</h3><p class="paragraph">You can specify when to catch results by providing a different lifecycle event:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">CatchBoomerangLifecycleEffect(<br>    key = "home_screen_result",<br>    lifecycleEvent = Lifecycle.Event.ON_RESUME<br>) { boomerang -&gt;<br>    // Process the result<br>    true<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">Manual Catching</h3><p class="paragraph">You can manually catch results without using the lifecycle effect:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun ManualCatchExample() {<br>    val store = LocalBoomerangStore.current<br><br>    Button(onClick = {<br>        store.tryCatch("some_key") { boomerang -&gt;<br>            // Process the result<br>            true<br>        }<br>    }) {<br>        Text("Check for Result")<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Requirements</h2><ul><li><p class="paragraph">Kotlin 1.5.0+</p></li><li><p class="paragraph">Compose Multiplatform 1.0.0+</p></li></ul><h3 class="">Platform-specific requirements:</h3><ul><li><p class="paragraph"><strong>Android</strong>: API level 21+</p></li><li><p class="paragraph"><strong>iOS</strong>: iOS 14+</p></li><li><p class="paragraph"><strong>Desktop</strong>: JVM 11+</p></li></ul><h2 class="">Sample App</h2><p class="paragraph">The repository includes a sample app that demonstrates how to use Boomerang in a real-world scenario. Check the <code class="lang-kotlin">app</code> module for complete examples of both pure Compose navigation and mixed solutions where both Compose and Fragments are used.</p><h2 class="">License</h2><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">Copyright 2025 Buszi<br><br>Licensed under the Apache License, Version 2.0 (the "License");<br>you may not use this file except in compliance with the License.<br>You may obtain a copy of the License at<br><br>    http://www.apache.org/licenses/LICENSE-2.0<br><br>Unless required by applicable law or agreed to in writing, software<br>distributed under the License is distributed on an "AS IS" BASIS,<br>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br>See the License for the specific language governing permissions and<br>limitations under the License.</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div>    </div>
  </div>
  <h2 class="">Packages</h2>
  <div class="table"><a data-name="-226399615%2FPackages%2F199115342" anchor-label="io.buszi.boomerang.compose" id="-226399615%2FPackages%2F199115342" data-filterable-set=":compose/androidMain,:compose/commonMain,:compose/desktopMain,:compose/iosMain"></a>
    <div class="table-row" data-filterable-current=":compose/androidMain,:compose/commonMain,:compose/desktopMain,:compose/iosMain" data-filterable-set=":compose/androidMain,:compose/commonMain,:compose/desktopMain,:compose/iosMain">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="io.buszi.boomerang.compose/index.html">io.buszi.boomerang.compose</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-226399615%2FPackages%2F199115342"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right">
            <div class="platform-tags no-gutters">
              <div class="platform-tag jvm-like">android</div>
              <div class="platform-tag common-like">common</div>
              <div class="platform-tag jvm-like">desktop</div>
              <div class="platform-tag common-like">ios</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
  </div>
</div>
    <div class="footer">
        <a href="#content" id="go-to-top-link" class="footer--button footer--button_go-to-top"></a>
        <span>© 2025 Copyright</span>
        <span class="pull-right">
            <span>Generated by </span>
            <a class="footer--link footer--link_external" href="https://github.com/Kotlin/dokka">
                <span>dokka</span>
            </a>
        </span>
    </div>
            </div>
        </div>
    </div>
</body>
</html>
