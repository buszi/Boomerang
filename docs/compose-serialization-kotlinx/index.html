<!doctype html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>compose-serialization-kotlinx</title>
<link href="../images/logo-icon.svg" rel="icon" type="image/svg">    <script>var pathToRoot = "../";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async></script>
<script type="text/javascript" src="../scripts/sourceset_dependencies.js" async></script>
<link href="../styles/style.css" rel="Stylesheet">
<link href="../styles/main.css" rel="Stylesheet">
<link href="../styles/prism.css" rel="Stylesheet">
<link href="../styles/logo-styles.css" rel="Stylesheet">
<link href="../styles/font-jb-sans-auto.css" rel="Stylesheet">
<link href="../ui-kit/ui-kit.min.css" rel="Stylesheet">
<script type="text/javascript" src="../scripts/clipboard.js" async></script>
<script type="text/javascript" src="../scripts/navigation-loader.js" async></script>
<script type="text/javascript" src="../scripts/platform-content-handler.js" async></script>
<script type="text/javascript" src="../scripts/main.js" defer></script>
<script type="text/javascript" src="../scripts/prism.js" async></script>
<script type="text/javascript" src="../ui-kit/ui-kit.min.js" defer></script>
<script type="text/javascript" src="../scripts/symbol-parameters-wrapper_deferred.js" defer></script></head>
<body>
    <div class="root">
    <nav class="navigation theme-dark" id="navigation-wrapper">
<a class="library-name--link" href="../index.html">
                    Boomerang
            </a>        <button class="navigation-controls--btn navigation-controls--btn_toc ui-kit_mobile-only" id="toc-toggle" type="button">Toggle table of contents
        </button>
        <div class="navigation-controls--break ui-kit_mobile-only"></div>
        <div class="library-version" id="library-version">
        </div>
        <div class="navigation-controls">
        <div class="filter-section filter-section_loading" id="filter-section">
                <button class="platform-tag platform-selector common-like" data-active="" data-filter=":compose-serialization-kotlinx/commonMain">common</button>
            <div class="dropdown filter-section--dropdown" data-role="dropdown" id="filter-section-dropdown">
                <button class="button button_dropdown filter-section--dropdown-toggle" role="combobox" data-role="dropdown-toggle" aria-controls="platform-tags-listbox" aria-haspopup="listbox" aria-expanded="false" aria-label="Toggle source sets"></button>
                <ul role="listbox" id="platform-tags-listbox" class="dropdown--list" data-role="dropdown-listbox">
                    <div class="dropdown--header"><span>Platform filter</span>
                        <button class="button" data-role="dropdown-toggle" aria-label="Close platform filter">
                            <i class="ui-kit-icon ui-kit-icon_cross"></i>
                        </button>
                    </div>
                        <li role="option" class="dropdown--option platform-selector-option common-like" tabindex="0">
                            <label class="checkbox">
                                <input type="checkbox" class="checkbox--input" id=":compose-serialization-kotlinx/commonMain" data-filter=":compose-serialization-kotlinx/commonMain">
                                <span class="checkbox--icon"></span>
                                common
                            </label>
                        </li>
                </ul>
                <div class="dropdown--overlay"></div>
            </div>
        </div>
            <button class="navigation-controls--btn navigation-controls--btn_theme" id="theme-toggle-button" type="button">Switch theme
            </button>
            <div class="navigation-controls--btn navigation-controls--btn_search" id="searchBar" role="button">Search in
                API
            </div>
        </div>
    </nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="dropdown theme-dark_mobile" data-role="dropdown" id="toc-dropdown">
                    <ul role="listbox" id="toc-listbox" class="dropdown--list dropdown--list_toc-list" data-role="dropdown-listbox">
                        <div class="dropdown--header">
                            <span>
                                    Boomerang
                            </span>
                            <button class="button" data-role="dropdown-toggle" aria-label="Close table of contents">
                                <i class="ui-kit-icon ui-kit-icon_cross"></i>
                            </button>
                        </div>
                        <div class="sidebar--inner" id="sideMenu"></div>
                    </ul>
                    <div class="dropdown--overlay"></div>
                </div>
            </div>
            <div id="main">
<div class="main-content" id="content" pageids="compose-serialization-kotlinx::////PointingToDeclaration//340457720">
  <div class="breadcrumbs"></div>
  <div class="cover ">
    <h1 class="cover"><span><span>compose-serialization-kotlinx</span></span></h1>
    <div class="platform-hinted UnderCoverText" data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":compose-serialization-kotlinx/commonMain"><p class="paragraph">A lightweight multiplatform library for handling serializable objects in Compose applications using Kotlinx Serialization.</p><h2 class="">Overview</h2><p class="paragraph">The Compose Serialization Kotlinx module of Boomerang provides integration between the Compose module and Kotlinx Serialization, allowing you to pass serializable objects between screens in Compose navigation without tight coupling between components. It simplifies the process of catching and processing serializable objects in Compose UI.</p><p class="paragraph">This module supports Android, iOS, and Desktop platforms, providing a consistent API across all platforms while using platform-specific implementations under the hood.</p><p class="paragraph"><strong>Note:</strong> The serialization feature currently only supports flat non-nested objects.</p><h2 class="">Installation</h2><p class="paragraph">Add the following dependencies to your app's <code class="lang-kotlin">build.gradle.kts</code> file:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// For core functionality (required)<br>implementation("io.github.buszi.boomerang:core:1.4.0")<br><br>// For Jetpack Compose integration<br>implementation("io.github.buszi.boomerang:compose:1.4.0")<br><br>// For Kotlinx Serialization integration<br>implementation("io.github.buszi.boomerang:serialization-kotlinx:1.4.0")<br><br>// For Compose with Kotlinx Serialization integration<br>implementation("io.github.buszi.boomerang:compose-serialization-kotlinx:1.4.0")<br><br>// Kotlinx Serialization dependency<br>implementation("org.jetbrains.kotlinx:kotlinx-serialization-core:1.4.0")</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Usage</h2><h3 class="">Defining a Serializable Object</h3><p class="paragraph">First, define a serializable object using Kotlinx Serialization:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Serializable<br>data class UserPreference(<br>    val theme: String,<br>    val notificationsEnabled: Boolean,<br>    val fontSize: Int<br>)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">Catching a Serializable Object</h3><p class="paragraph">To catch and process a serializable object when a Compose screen becomes visible:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun PreferencesScreen() {<br>    var userPreference by remember { mutableStateOf&lt;UserPreference?&gt;(null) }<br><br>    // Set up a catcher that runs when the screen starts<br>    CatchSerializableLifecycleEffect&lt;UserPreference&gt;("user_preferences") { preference -&gt;<br>        // Process the caught serializable object<br>        userPreference = preference<br>        true // Return true to indicate the object was successfully processed<br>    }<br><br>    // Display the user preference<br>    userPreference?.let {<br>        Column {<br>            Text("Theme: ${it.theme}")<br>            Text("Notifications: ${it.notificationsEnabled}")<br>            Text("Font Size: ${it.fontSize}")<br>        }<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">Using Type as Key</h3><p class="paragraph">You can also use the type of the serializable object as the key:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun PreferencesScreen() {<br>    var userPreference by remember { mutableStateOf&lt;UserPreference?&gt;(null) }<br><br>    // Set up a catcher that uses the type as the key<br>    CatchSerializableLifecycleEffect&lt;UserPreference&gt; { preference -&gt;<br>        // Process the caught serializable object<br>        userPreference = preference<br>        true // Return true to indicate the object was successfully processed<br>    }<br><br>    // Display the user preference<br>    userPreference?.let {<br>        Column {<br>            Text("Theme: ${it.theme}")<br>            Text("Notifications: ${it.notificationsEnabled}")<br>            Text("Font Size: ${it.fontSize}")<br>        }<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">Storing a Serializable Object</h3><p class="paragraph">To store a serializable object that can be caught by another screen:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>fun SettingsScreen(navController: NavController) {<br>    val store = LocalBoomerangStore.current<br><br>    Button(onClick = {<br>        // Create a serializable object<br>        val userPreference = UserPreference(<br>            theme = "dark",<br>            notificationsEnabled = true,<br>            fontSize = 14<br>        )<br><br>        // Store the object with a specific key<br>        store.storeValue("user_preferences", userPreference)<br><br>        // Or store the object using its type as the key<br>        store.storeValue(userPreference)<br><br>        // Navigate back<br>        navController.popBackStack()<br>    }) {<br>        Text("Save Preferences")<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Key Components</h2><h3 class="">CatchSerializableLifecycleEffect</h3><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>inline fun &lt;reified T : @Serializable Any&gt; CatchSerializableLifecycleEffect(<br>    key: String,<br>    lifecycleEvent: Lifecycle.Event = Lifecycle.Event.ON_START,<br>    crossinline catcher: (T) -&gt; Boolean<br>)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">A Composable effect that catches serializable objects of type <code class="lang-kotlin">T</code> at a specific lifecycle event. This function uses Kotlinx Serialization to deserialize the caught object before passing it to the catcher function. The catcher function returns a boolean indicating whether the object was successfully handled.</p><h3 class="">ConsumeSerializableLifecycleEffect</h3><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>inline fun &lt;reified T : @Serializable Any&gt; ConsumeSerializableLifecycleEffect(<br>    key: String,<br>    lifecycleEvent: Lifecycle.Event = Lifecycle.Event.ON_START,<br>    crossinline catcher: (T) -&gt; Unit<br>)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">A Composable effect that consumes serializable objects of type <code class="lang-kotlin">T</code> at a specific lifecycle event. This function is similar to <code class="lang-kotlin">CatchSerializableLifecycleEffect</code> but automatically returns true after the catcher function is called, indicating that the object was successfully handled.</p><h3 class="">Type-Based Variants</h3><p class="paragraph">Both <code class="lang-kotlin">CatchSerializableLifecycleEffect</code> and <code class="lang-kotlin">ConsumeSerializableLifecycleEffect</code> have overloads that automatically use the qualified name of type <code class="lang-kotlin">T</code> as the key:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Composable<br>inline fun &lt;reified T : @Serializable Any&gt; CatchSerializableLifecycleEffect(<br>    lifecycleEvent: Lifecycle.Event = Lifecycle.Event.ON_START,<br>    crossinline catcher: (T) -&gt; Boolean<br>)<br><br>@Composable<br>inline fun &lt;reified T : @Serializable Any&gt; ConsumeSerializableLifecycleEffect(<br>    lifecycleEvent: Lifecycle.Event = Lifecycle.Event.ON_START,<br>    crossinline catcher: (T) -&gt; Unit<br>)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Requirements</h2><ul><li><p class="paragraph">Kotlin 1.5.0+</p></li><li><p class="paragraph">Compose Multiplatform 1.0.0+</p></li><li><p class="paragraph">Kotlinx Serialization 1.5.0+</p></li></ul><h3 class="">Platform-specific requirements:</h3><ul><li><p class="paragraph"><strong>Android</strong>: API level 21+</p></li><li><p class="paragraph"><strong>iOS</strong>: iOS 14+</p></li><li><p class="paragraph"><strong>Desktop</strong>: JVM 11+</p></li></ul><h2 class="">License</h2><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">Copyright 2025 Buszi<br><br>Licensed under the Apache License, Version 2.0 (the "License");<br>you may not use this file except in compliance with the License.<br>You may obtain a copy of the License at<br><br>    http://www.apache.org/licenses/LICENSE-2.0<br><br>Unless required by applicable law or agreed to in writing, software<br>distributed under the License is distributed on an "AS IS" BASIS,<br>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br>See the License for the specific language governing permissions and<br>limitations under the License.</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
  <h2 class="">Packages</h2>
  <div class="table"><a data-name="197477804%2FPackages%2F340457720" anchor-label="io.buszi.boomerang.compose.serialization.kotlinx" id="197477804%2FPackages%2F340457720" data-filterable-set=":compose-serialization-kotlinx/commonMain"></a>
    <div class="table-row" data-filterable-current=":compose-serialization-kotlinx/commonMain" data-filterable-set=":compose-serialization-kotlinx/commonMain">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="io.buszi.boomerang.compose.serialization.kotlinx/index.html">io.buszi.boomerang.compose.serialization.kotlinx</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="197477804%2FPackages%2F340457720"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right">
            <div class="platform-tags no-gutters">
              <div class="platform-tag common-like">common</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
  </div>
</div>
    <div class="footer">
        <a href="#content" id="go-to-top-link" class="footer--button footer--button_go-to-top"></a>
        <span>© 2025 Copyright</span>
        <span class="pull-right">
            <span>Generated by </span>
            <a class="footer--link footer--link_external" href="https://github.com/Kotlin/dokka">
                <span>dokka</span>
            </a>
        </span>
    </div>
            </div>
        </div>
    </div>
</body>
</html>
