<!doctype html>
<html class="no-js" lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>fragment-serialization-kotlinx</title>
<link href="../images/logo-icon.svg" rel="icon" type="image/svg"><script>var pathToRoot = "../";</script>
    <script>document.documentElement.classList.replace("no-js", "js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
      if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
          document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
      } else {
        const savedDarkMode = JSON.parse(storage)
        if (savedDarkMode === true) {
          document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
      }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async></script>
<script type="text/javascript" src="../scripts/sourceset_dependencies.js" async></script>
<link href="../styles/style.css" rel="Stylesheet">
<link href="../styles/main.css" rel="Stylesheet">
<link href="../styles/prism.css" rel="Stylesheet">
<link href="../styles/logo-styles.css" rel="Stylesheet">
<link href="../ui-kit/ui-kit.min.css" rel="Stylesheet">
<script type="text/javascript" src="../scripts/safe-local-storage_blocking.js"></script>
<script type="text/javascript" src="../scripts/navigation-loader.js" async></script>
<script type="text/javascript" src="../scripts/platform-content-handler.js" async></script>
<script type="text/javascript" src="../scripts/main.js" defer></script>
<script type="text/javascript" src="../scripts/prism.js" async></script>
<script type="text/javascript" src="../ui-kit/ui-kit.min.js" defer></script></head>
<body>
<div class="root">
    <header class="navigation theme-dark" id="navigation-wrapper" role="banner">
<a class="library-name--link" href="../index.html" tabindex="1">
                    Boomerang
            </a>        <button class="navigation-controls--btn navigation-controls--btn_toc ui-kit_mobile-only" id="toc-toggle" type="button">Toggle table of contents
        </button>
        <div class="navigation-controls--break ui-kit_mobile-only"></div>
        <div class="library-version" id="library-version">
        </div>
        <div class="navigation-controls">
        <ul class="filter-section filter-section_loading" id="filter-section" aria-label="Target filter">
                <button class="platform-tag platform-selector jvm-like" data-active="" aria-pressed="true" data-filter=":fragment-serialization-kotlinx/main">androidJvm</button>
            <div class="dropdown filter-section--dropdown" data-role="dropdown" id="filter-section-dropdown">
                <button class="button button_dropdown filter-section--dropdown-toggle" role="combobox" data-role="dropdown-toggle" aria-controls="platform-tags-listbox" aria-haspopup="listbox" aria-expanded="false" aria-label="Toggle source sets"></button>
                <ul role="listbox" id="platform-tags-listbox" class="dropdown--list" data-role="dropdown-listbox" aria-label="Target filter">
                    <div class="dropdown--header"><span>Target filter</span>
                        <button class="button" data-role="dropdown-toggle" aria-label="Close target filter">
                            <i class="ui-kit-icon ui-kit-icon_cross"></i>
                        </button>
                    </div>
                        <li role="option" class="dropdown--option platform-selector-option jvm-like" tabindex="0">
                            <label class="checkbox">
                                <input type="checkbox" class="checkbox--input" id=":fragment-serialization-kotlinx/main" data-filter=":fragment-serialization-kotlinx/main">
                                <span class="checkbox--icon"></span>
                                androidJvm
                            </label>
                        </li>
                </ul>
                <div class="dropdown--overlay"></div>
            </div>
        </ul>
            <button class="navigation-controls--btn navigation-controls--btn_theme" id="theme-toggle-button" type="button">Switch theme
            </button>
            <div class="navigation-controls--btn navigation-controls--btn_search" id="searchBar" role="button">Search in
                API
            </div>
        </div>
    </header>
    <div id="container">
        <nav id="leftColumn" class="sidebar" data-item-type="SECTION" data-item-config="{&quot;defaultSize&quot;: 280, &quot;minSize&quot;: 200, &quot;maxSize&quot;: 400}">
            <a class="toc--skip-link" href="#main">Skip to content</a>
            <div class="dropdown theme-dark_mobile" data-role="dropdown" id="toc-dropdown">
                <ul role="listbox" id="toc-listbox" class="dropdown--list dropdown--list_toc-list" data-role="dropdown-listbox" aria-label="Table of contents">
                    <div class="dropdown--header">
                            <span>
                                    Boomerang
                            </span>
                        <button class="button" data-role="dropdown-toggle" aria-label="Close table of contents">
                            <i class="ui-kit-icon ui-kit-icon_cross"></i>
                        </button>
                    </div>
                    <div class="sidebar--inner" id="sideMenu"></div>
                </ul>
                <div class="dropdown--overlay"></div>
            </div>
        </nav>
        <div id="resizer" class="resizer" data-item-type="BAR"></div>
        <div id="main" data-item-type="SECTION" role="main">
<div class="main-content" id="content" pageids="fragment-serialization-kotlinx::////PointingToDeclaration//-2061911220">
  <div class="breadcrumbs"></div>
  <div class="cover ">
    <h1 class="cover"><span><span>fragment-serialization-kotlinx</span></span></h1>
    <div class="platform-hinted UnderCoverText" data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":fragment-serialization-kotlinx/main"><p class="paragraph">A lightweight library for handling serializable objects in AndroidX Fragment applications using Kotlinx Serialization.</p><h2 class="">Overview</h2><p class="paragraph">The Fragment Serialization Kotlinx module of Boomerang provides integration between the Fragment module and Kotlinx Serialization, allowing you to pass serializable objects between screens in Fragment navigation without tight coupling between components. It simplifies the process of catching and processing serializable objects in Fragment UI.</p><p class="paragraph">Supports primitives, enums, nested objects, and lists. Configure via <code class="lang-kotlin">BoomerangFormat</code> and <code class="lang-kotlin">SerializersModule</code>.</p><h2 class="">Installation</h2><p class="paragraph">Add the following dependencies to your app's <code class="lang-kotlin">build.gradle.kts</code> file:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// For core functionality (required)<br>implementation("io.github.buszi.boomerang:core:1.5.1")<br><br>// For AndroidX Fragment integration<br>implementation("io.github.buszi.boomerang:fragment:1.5.1")<br><br>// For Kotlinx Serialization integration<br>implementation("io.github.buszi.boomerang:serialization-kotlinx:1.5.1")<br><br>// For Fragment with Kotlinx Serialization integration<br>implementation("io.github.buszi.boomerang:fragment-serialization-kotlinx:1.5.1")<br><br>// Kotlinx Serialization dependency<br>implementation("org.jetbrains.kotlinx:kotlinx-serialization-core:1.5.1")</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><h2 class="">Configuration</h2><p class="paragraph">Set a global <code class="lang-kotlin">BoomerangFormat</code> to configure serializers used by helpers in this module:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">BoomerangConfig.format = BoomerangFormat {<br>    serializersModule = SerializersModule {<br>        // polymorphic {}, contextual {}, etc.<br>    }<br>}</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><p class="paragraph">This affects <code class="lang-kotlin">storeValue(value)</code>, <code class="lang-kotlin">getSerializable()</code>, and related helpers.</p><h2 class="">Usage</h2><h3 class="">Defining a Serializable Object</h3><p class="paragraph">First, define a serializable object using Kotlinx Serialization:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">@Serializable<br>data class UserPreference(<br>    val theme: String,<br>    val notificationsEnabled: Boolean,<br>    val fontSize: Int<br>)</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><h3 class="">Catching a Serializable Object</h3><p class="paragraph">To catch and process a serializable object when a Fragment becomes visible:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">class PreferencesFragment : Fragment() {<br><br>    private var userPreference: UserPreference? = null<br><br>    override fun onCreate(savedInstanceState: Bundle?) {<br>        super.onCreate(savedInstanceState)<br><br>        // Set up a catcher that runs when the fragment starts<br>        catchSerializableWithLifecycleEvent&lt;UserPreference&gt;("user_preferences") { preference -&gt;<br>            // Process the caught serializable object<br>            userPreference = preference<br>            updateUI()<br>            true // Return true to indicate the object was successfully processed<br>        }<br>    }<br><br>    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {<br>        super.onViewCreated(view, savedInstanceState)<br>        updateUI()<br>    }<br><br>    private fun updateUI() {<br>        // Update UI with the user preference<br>        userPreference?.let {<br>            view?.findViewById&lt;TextView&gt;(R.id.themeText)?.text = "Theme: ${it.theme}"<br>            view?.findViewById&lt;TextView&gt;(R.id.notificationsText)?.text = "Notifications: ${it.notificationsEnabled}"<br>            view?.findViewById&lt;TextView&gt;(R.id.fontSizeText)?.text = "Font Size: ${it.fontSize}"<br>        }<br>    }<br>}</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><h3 class="">Using Type as Key</h3><p class="paragraph">You can also use the type of the serializable object as the key:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">class PreferencesFragment : Fragment() {<br><br>    private var userPreference: UserPreference? = null<br><br>    override fun onCreate(savedInstanceState: Bundle?) {<br>        super.onCreate(savedInstanceState)<br><br>        // Set up a catcher that uses the type as the key<br>        catchSerializableWithLifecycleEvent&lt;UserPreference&gt; { preference -&gt;<br>            // Process the caught serializable object<br>            userPreference = preference<br>            updateUI()<br>            true // Return true to indicate the object was successfully processed<br>        }<br>    }<br><br>    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {<br>        super.onViewCreated(view, savedInstanceState)<br>        updateUI()<br>    }<br><br>    private fun updateUI() {<br>        // Update UI with the user preference<br>        userPreference?.let {<br>            view?.findViewById&lt;TextView&gt;(R.id.themeText)?.text = "Theme: ${it.theme}"<br>            view?.findViewById&lt;TextView&gt;(R.id.notificationsText)?.text = "Notifications: ${it.notificationsEnabled}"<br>            view?.findViewById&lt;TextView&gt;(R.id.fontSizeText)?.text = "Font Size: ${it.fontSize}"<br>        }<br>    }<br>}</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><h3 class="">Storing a Serializable Object</h3><p class="paragraph">To store a serializable object that can be caught by another screen:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">class SettingsFragment : Fragment() {<br><br>    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {<br>        super.onViewCreated(view, savedInstanceState)<br><br>        view.findViewById&lt;Button&gt;(R.id.saveButton).setOnClickListener {<br>            // Create a serializable object<br>            val userPreference = UserPreference(<br>                theme = "dark",<br>                notificationsEnabled = true,<br>                fontSize = 14<br>            )<br><br>            // Find the store<br>            val store = findBoomerangStore()<br><br>            // Store the object with a specific key<br>            store.storeValue("user_preferences", userPreference)<br><br>            // Or store the object using its type as the key<br>            store.storeValue(userPreference)<br><br>            // Navigate back<br>            findNavController().popBackStack()<br>        }<br>    }<br>}</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><h2 class="">Key Components</h2><h3 class="">catchSerializableWithLifecycleEvent</h3><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">inline fun &lt;reified T : @Serializable Any&gt; Fragment.catchSerializableWithLifecycleEvent(<br>    key: String,<br>    lifecycleEvent: Lifecycle.Event = Lifecycle.Event.ON_START,<br>    crossinline catcher: (T) -&gt; Boolean<br>)</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><p class="paragraph">An extension function for Fragment that catches serializable objects of type <code class="lang-kotlin">T</code> at a specific lifecycle event. This function uses Kotlinx Serialization to deserialize the caught object before passing it to the catcher function. The catcher function returns a boolean indicating whether the object was successfully handled.</p><h3 class="">consumeSerializableWithLifecycleEvent</h3><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">inline fun &lt;reified T : @Serializable Any&gt; Fragment.consumeSerializableWithLifecycleEvent(<br>    key: String,<br>    lifecycleEvent: Lifecycle.Event = Lifecycle.Event.ON_START,<br>    crossinline catcher: (T) -&gt; Unit<br>)</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><p class="paragraph">An extension function for Fragment that consumes serializable objects of type <code class="lang-kotlin">T</code> at a specific lifecycle event. This function is similar to <code class="lang-kotlin">catchSerializableWithLifecycleEvent</code> but automatically returns true after the catcher function is called, indicating that the object was successfully handled.</p><h3 class="">Type-Based Variants</h3><p class="paragraph">Both <code class="lang-kotlin">catchSerializableWithLifecycleEvent</code> and <code class="lang-kotlin">consumeSerializableWithLifecycleEvent</code> have overloads that automatically use the qualified name of type <code class="lang-kotlin">T</code> as the key:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">inline fun &lt;reified T : @Serializable Any&gt; Fragment.catchSerializableWithLifecycleEvent(<br>    lifecycleEvent: Lifecycle.Event = Lifecycle.Event.ON_START,<br>    crossinline catcher: (T) -&gt; Boolean<br>)<br><br>inline fun &lt;reified T : @Serializable Any&gt; Fragment.consumeSerializableWithLifecycleEvent(<br>    lifecycleEvent: Lifecycle.Event = Lifecycle.Event.ON_START,<br>    crossinline catcher: (T) -&gt; Unit<br>)</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><h2 class="">Requirements</h2><ul><li><p class="paragraph">Android API level 21+</p></li><li><p class="paragraph">Kotlin 1.5.0+</p></li><li><p class="paragraph">AndroidX Fragment 1.3.0+</p></li><li><p class="paragraph">Kotlinx Serialization 1.5.0+</p></li></ul><h2 class="">License</h2><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">Copyright 2025 Buszi<br><br>Licensed under the Apache License, Version 2.0 (the "License");<br>you may not use this file except in compliance with the License.<br>You may obtain a copy of the License at<br><br>    http://www.apache.org/licenses/LICENSE-2.0<br><br>Unless required by applicable law or agreed to in writing, software<br>distributed under the License is distributed on an "AS IS" BASIS,<br>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br>See the License for the specific language governing permissions and<br>limitations under the License.</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div></div></div>
  </div>
  <h2 class="">Packages</h2>
  <div class="table"><a data-name="2036229744%2FPackages%2F-2061911220" anchor-label="io.buszi.boomerang.fragment.serialization.kotlinx" id="2036229744%2FPackages%2F-2061911220" data-filterable-set=":fragment-serialization-kotlinx/main"></a>
    <div class="table-row table-row_platform-tagged" data-filterable-current=":fragment-serialization-kotlinx/main" data-filterable-set=":fragment-serialization-kotlinx/main">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="io.buszi.boomerang.fragment.serialization.kotlinx/index.html">io.buszi.boomerang.fragment.serialization.kotlinx</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="2036229744%2FPackages%2F-2061911220"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right platform-tags--wrapper">
            <div class="platform-tags no-gutters">
              <div class="platform-tag jvm-like">androidJvm</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
  </div>
</div>
    <div class="footer">
        <div class="footer--container">
            <a href="#content" id="go-to-top-link" class="footer--button footer--button_go-to-top"></a>
            <div class="footer--content">
                <div>
                    <span>Generated by </span>
                    <a class="footer--link footer--link_external" href="https://github.com/Kotlin/dokka">
                        Dokka
                    </a>
                    <div>© 2025 Copyright</div>
                </div>
            </div>
        </div>
    </div>
        </div>
    </div>
</div>
</body>
</html>